{% doc %}
  @prompt
    Diseña una sección personalizada para Shopify basada en bloques independientes que permita editar el estilo de cada uno de los tres recuadros de forma individual. La estructura global de la sección debe garantizar que el contenedor de los tres bloques esté perfectamente centrado en la pantalla, eliminando cualquier desplazamiento hacia los lados. Cada bloque debe incluir un control de alineación de texto que permita al usuario elegir entre izquierda, derecha, centrado o justificado de forma independiente para cada recuadro.
    
    Para el comportamiento visual, integra una animación de entrada (fade-in o slide-up) escalonada: el bloque central de "Filosofía" debe aparecer primero, seguido por el de la izquierda y finalmente el de la derecha, creando un efecto de enfoque dinámico al cargar la página. Además, añade una animación de hover para cada recuadro; al pasar el cursor, el bloque debe realizar una transición suave, como un cambio sutil en el color de fondo, un ligero escalado (zoom-in del 2%) o una sombra proyectada más profunda para indicar interactividad.
    
    El bloque central debe conservar su capacidad de ser más alto y bajo que los laterales mediante un ajuste de padding vertical único, manteniendo el desfase simétrico. Todos los bloques deben ofrecer controles individuales para cambiar colores de fondo, bordes, tipografía y espaciado interno, además de controles globales para los márgenes superiores e inferiores de la sección completa. Los tres recuadros deben mantener su borde de 1px con esquinas redondeadas de 15px y ser completamente responsivos, apilándose verticalmente en dispositivos móviles sin perder sus animaciones ni sus estilos personalizados.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-philosophy-section-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding-top: {{ block.settings.section_margin_top }}px;
    padding-bottom: {{ block.settings.section_margin_bottom }}px;
    overflow: hidden;
  }

  .ai-philosophy-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 30px;
  }

  .ai-philosophy-box-{{ ai_gen_id }} {
    flex: 1;
    border: 1px solid {{ block.settings.border_color }};
    border-radius: 15px;
    padding: {{ block.settings.padding_vertical }}px {{ block.settings.padding_horizontal }}px;
    background-color: {{ block.settings.background_color }};
    color: {{ block.settings.text_color }};
    transition: all 0.3s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .ai-philosophy-box-{{ ai_gen_id }}.ai-philosophy-visible-{{ ai_gen_id }} {
    opacity: 1;
    transform: translateY(0);
  }

  .ai-philosophy-box-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.hover_background_color }};
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }

  .ai-philosophy-box-left-{{ ai_gen_id }} {
    border-color: {{ block.settings.left_border_color }};
    background-color: {{ block.settings.left_background_color }};
    color: {{ block.settings.left_text_color }};
    padding: {{ block.settings.left_padding_vertical }}px {{ block.settings.left_padding_horizontal }}px;
    text-align: {{ block.settings.left_text_align }};
    transition-delay: 0.2s;
  }

  .ai-philosophy-box-left-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.left_hover_background_color }};
  }

  .ai-philosophy-box-center-{{ ai_gen_id }} {
    border-color: {{ block.settings.center_border_color }};
    background-color: {{ block.settings.center_background_color }};
    color: {{ block.settings.center_text_color }};
    padding: {{ block.settings.center_padding_vertical }}px {{ block.settings.center_padding_horizontal }}px;
    text-align: {{ block.settings.center_text_align }};
    transition-delay: 0s;
  }

  .ai-philosophy-box-center-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.center_hover_background_color }};
  }

  .ai-philosophy-box-right-{{ ai_gen_id }} {
    border-color: {{ block.settings.right_border_color }};
    background-color: {{ block.settings.right_background_color }};
    color: {{ block.settings.right_text_color }};
    padding: {{ block.settings.right_padding_vertical }}px {{ block.settings.right_padding_horizontal }}px;
    text-align: {{ block.settings.right_text_align }};
    transition-delay: 0.4s;
  }

  .ai-philosophy-box-right-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.right_hover_background_color }};
  }

  .ai-philosophy-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_font_size }}px;
    font-weight: 700;
    margin: 0 0 15px 0;
  }

  .ai-philosophy-text-{{ ai_gen_id }} {
    font-size: {{ block.settings.text_font_size }}px;
    line-height: 1.6;
    margin: 0;
  }

  @media screen and (max-width: 768px) {
    .ai-philosophy-container-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 20px;
    }

    .ai-philosophy-box-{{ ai_gen_id }} {
      width: 100%;
    }

    .ai-philosophy-box-left-{{ ai_gen_id }},
    .ai-philosophy-box-center-{{ ai_gen_id }},
    .ai-philosophy-box-right-{{ ai_gen_id }} {
      transition-delay: 0s;
    }
  }
{% endstyle %}

<philosophy-boxes-{{ ai_gen_id }} class="ai-philosophy-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-philosophy-container-{{ ai_gen_id }}">
    <div class="ai-philosophy-box-{{ ai_gen_id }} ai-philosophy-box-left-{{ ai_gen_id }}" data-box="left">
      <h3 class="ai-philosophy-title-{{ ai_gen_id }}">{{ block.settings.left_title }}</h3>
      <div class="ai-philosophy-text-{{ ai_gen_id }}">{{ block.settings.left_text }}</div>
    </div>

    <div class="ai-philosophy-box-{{ ai_gen_id }} ai-philosophy-box-center-{{ ai_gen_id }}" data-box="center">
      <h3 class="ai-philosophy-title-{{ ai_gen_id }}">{{ block.settings.center_title }}</h3>
      <div class="ai-philosophy-text-{{ ai_gen_id }}">{{ block.settings.center_text }}</div>
    </div>

    <div class="ai-philosophy-box-{{ ai_gen_id }} ai-philosophy-box-right-{{ ai_gen_id }}" data-box="right">
      <h3 class="ai-philosophy-title-{{ ai_gen_id }}">{{ block.settings.right_title }}</h3>
      <div class="ai-philosophy-text-{{ ai_gen_id }}">{{ block.settings.right_text }}</div>
    </div>
  </div>
</philosophy-boxes-{{ ai_gen_id }}>

<script>
  (function() {
    class PhilosophyBoxes{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
        this.boxes = this.querySelectorAll('.ai-philosophy-box-{{ ai_gen_id }}');
        this.observeBoxes();
      }

      observeBoxes() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('ai-philosophy-visible-{{ ai_gen_id }}');
            }
          });
        }, {
          threshold: 0.2
        });

        this.boxes.forEach((box) => {
          observer.observe(box);
        });
      }
    }

    customElements.define('philosophy-boxes-{{ ai_gen_id }}', PhilosophyBoxes{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Bloques de filosofía",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Espaciado de sección"
    },
    {
      "type": "range",
      "id": "section_margin_top",
      "label": "Margen superior",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 50
    },
    {
      "type": "range",
      "id": "section_margin_bottom",
      "label": "Margen inferior",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 50
    },
    {
      "type": "header",
      "content": "Estilo global"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Color de fondo",
      "default": "#efebe5"
    },
    {
      "type": "color",
      "id": "hover_background_color",
      "label": "Color de fondo al pasar cursor",
      "default": "#e5e0d9"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Color de texto",
      "default": "#3e2563"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Color de borde",
      "default": "#3e2563"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "label": "Espaciado vertical",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "label": "Espaciado horizontal",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 25
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Tamaño de título",
      "min": 14,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "text_font_size",
      "label": "Tamaño de texto",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "header",
      "content": "Bloque izquierdo"
    },
    {
      "type": "text",
      "id": "left_title",
      "label": "Título",
      "default": "Misión"
    },
    {
      "type": "richtext",
      "id": "left_text",
      "label": "Texto",
      "default": "<p>Nuestra misión es ofrecer productos de calidad excepcional que mejoren la vida de nuestros clientes.</p>"
    },
    {
      "type": "select",
      "id": "left_text_align",
      "label": "Alineación de texto",
      "options": [
        { "value": "left", "label": "Izquierda" },
        { "value": "center", "label": "Centro" },
        { "value": "right", "label": "Derecha" },
        { "value": "justify", "label": "Justificado" }
      ],
      "default": "left"
    },
    {
      "type": "color",
      "id": "left_background_color",
      "label": "Color de fondo",
      "default": "#efebe5"
    },
    {
      "type": "color",
      "id": "left_hover_background_color",
      "label": "Color de fondo al pasar cursor",
      "default": "#e5e0d9"
    },
    {
      "type": "color",
      "id": "left_text_color",
      "label": "Color de texto",
      "default": "#3e2563"
    },
    {
      "type": "color",
      "id": "left_border_color",
      "label": "Color de borde",
      "default": "#3e2563"
    },
    {
      "type": "range",
      "id": "left_padding_vertical",
      "label": "Espaciado vertical",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "left_padding_horizontal",
      "label": "Espaciado horizontal",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 25
    },
    {
      "type": "header",
      "content": "Bloque central"
    },
    {
      "type": "text",
      "id": "center_title",
      "label": "Título",
      "default": "Filosofía"
    },
    {
      "type": "richtext",
      "id": "center_text",
      "label": "Texto",
      "default": "<p>Creemos en la innovación constante, la sostenibilidad y el compromiso con nuestros valores fundamentales.</p>"
    },
    {
      "type": "select",
      "id": "center_text_align",
      "label": "Alineación de texto",
      "options": [
        { "value": "left", "label": "Izquierda" },
        { "value": "center", "label": "Centro" },
        { "value": "right", "label": "Derecha" },
        { "value": "justify", "label": "Justificado" }
      ],
      "default": "center"
    },
    {
      "type": "color",
      "id": "center_background_color",
      "label": "Color de fondo",
      "default": "#c2afcb"
    },
    {
      "type": "color",
      "id": "center_hover_background_color",
      "label": "Color de fondo al pasar cursor",
      "default": "#b5a1bf"
    },
    {
      "type": "color",
      "id": "center_text_color",
      "label": "Color de texto",
      "default": "#3e2563"
    },
    {
      "type": "color",
      "id": "center_border_color",
      "label": "Color de borde",
      "default": "#3e2563"
    },
    {
      "type": "range",
      "id": "center_padding_vertical",
      "label": "Espaciado vertical",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 45
    },
    {
      "type": "range",
      "id": "center_padding_horizontal",
      "label": "Espaciado horizontal",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 25
    },
    {
      "type": "header",
      "content": "Bloque derecho"
    },
    {
      "type": "text",
      "id": "right_title",
      "label": "Título",
      "default": "Visión"
    },
    {
      "type": "richtext",
      "id": "right_text",
      "label": "Texto",
      "default": "<p>Aspiramos a ser líderes en nuestro sector, reconocidos por nuestra excelencia y dedicación al cliente.</p>"
    },
    {
      "type": "select",
      "id": "right_text_align",
      "label": "Alineación de texto",
      "options": [
        { "value": "left", "label": "Izquierda" },
        { "value": "center", "label": "Centro" },
        { "value": "right", "label": "Derecha" },
        { "value": "justify", "label": "Justificado" }
      ],
      "default": "right"
    },
    {
      "type": "color",
      "id": "right_background_color",
      "label": "Color de fondo",
      "default": "#efebe5"
    },
    {
      "type": "color",
      "id": "right_hover_background_color",
      "label": "Color de fondo al pasar cursor",
      "default": "#e5e0d9"
    },
    {
      "type": "color",
      "id": "right_text_color",
      "label": "Color de texto",
      "default": "#3e2563"
    },
    {
      "type": "color",
      "id": "right_border_color",
      "label": "Color de borde",
      "default": "#3e2563"
    },
    {
      "type": "range",
      "id": "right_padding_vertical",
      "label": "Espaciado vertical",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "right_padding_horizontal",
      "label": "Espaciado horizontal",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "default": 25
    }
  ],
  "presets": [
    {
      "name": "Bloques de filosofía"
    }
  ]
}
{% endschema %}