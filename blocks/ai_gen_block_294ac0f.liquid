{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-blog-header-{{ ai_gen_id }} {
    display: block;
    width: 100%;
  }

  .ai-blog-header__container-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: {{ block.settings.left_width }}% 1fr;
    gap: {{ block.settings.columns_gap }}px;
    width: 100%;
    align-items: {{ block.settings.columns_vertical_align }};
  }

  /* Columna izquierda - Contenido */
  .ai-blog-header__content-{{ ai_gen_id }} {
    background-color: {{ block.settings.content_background }};
    padding: {{ block.settings.content_padding_vertical }}px {{ block.settings.content_padding_horizontal }}px;
    display: flex;
    flex-direction: column;
    justify-content: {{ block.settings.content_vertical_align }};
    position: relative;
    border-radius: {{ block.settings.border_radius }}px;
    min-height: {{ block.settings.content_height }}px;
  }

  .ai-blog-header__title-{{ ai_gen_id }} {
    font-family: {{ block.settings.title_font_family }};
    font-size: {{ block.settings.title_size }}px;
    font-weight: {{ block.settings.title_font_weight }};
    color: {{ block.settings.title_color }};
    margin: 0 0 {{ block.settings.title_margin_bottom }}px 0;
    line-height: {{ block.settings.title_line_height }};
    letter-spacing: {{ block.settings.title_letter_spacing }}em;
  }

  .ai-blog-header__excerpt-{{ ai_gen_id }} {
    font-family: {{ block.settings.excerpt_font_family }};
    font-size: {{ block.settings.excerpt_size }}px;
    font-weight: {{ block.settings.excerpt_font_weight }};
    color: {{ block.settings.excerpt_color }};
    margin: 0;
    line-height: 1.6;
    max-width: {{ block.settings.excerpt_max_width }}ch;
  }

  .ai-blog-header__date-{{ ai_gen_id }} {
    font-family: {{ block.settings.date_font_family }};
    font-size: {{ block.settings.date_size }}px;
    font-weight: {{ block.settings.date_font_weight }};
    color: {{ block.settings.date_color }};
    margin: 0;
    {% if block.settings.date_position == 'top' %}
      order: -1;
      margin-bottom: {{ block.settings.date_spacing }}px;
    {% else %}
      margin-top: {{ block.settings.date_spacing }}px;
    {% endif %}
    {% if block.settings.date_uppercase %}
      text-transform: uppercase;
      letter-spacing: 0.05em;
    {% endif %}
  }

  /* Columna derecha - Imagen */
  .ai-blog-header__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    height: {{ block.settings.image_height }}px;
    background-color: {{ block.settings.image_background }};
    overflow: hidden;
    border-radius: {{ block.settings.border_radius }}px;
  }

  .ai-blog-header__image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: {{ block.settings.image_fit }};
    object-position: {{ block.settings.image_position }};
    display: block;
  }

  .ai-blog-header__placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: {{ block.settings.image_background }};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-blog-header__placeholder-{{ ai_gen_id }} svg {
    width: 100px;
    height: 100px;
    opacity: 0.3;
  }

  /* Tablet */
  @media screen and (max-width: 1024px) {
    .ai-blog-header__container-{{ ai_gen_id }} {
      grid-template-columns: {{ block.settings.left_width_tablet }}% 1fr;
      gap: {{ block.settings.columns_gap_tablet }}px;
    }

    .ai-blog-header__content-{{ ai_gen_id }} {
      padding: {{ block.settings.content_padding_vertical | times: 0.8 }}px {{ block.settings.content_padding_horizontal | times: 0.8 }}px;
      min-height: {{ block.settings.content_height_tablet }}px;
      border-radius: {{ block.settings.border_radius_tablet }}px;
    }

    .ai-blog-header__title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size_tablet }}px;
    }

    .ai-blog-header__image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.image_height_tablet }}px;
      border-radius: {{ block.settings.border_radius_tablet }}px;
    }
  }

  /* Mobile */
  @media screen and (max-width: 749px) {
    .ai-blog-header__container-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: {{ block.settings.columns_gap_mobile }}px;
    }

    .ai-blog-header__content-{{ ai_gen_id }} {
      padding: {{ block.settings.content_padding_mobile }}px;
      min-height: auto;
      order: {% if block.settings.mobile_content_first %}1{% else %}2{% endif %};
      border-radius: {{ block.settings.border_radius_mobile }}px;
    }

    .ai-blog-header__title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size_mobile }}px;
    }

    .ai-blog-header__excerpt-{{ ai_gen_id }} {
      font-size: {{ block.settings.excerpt_size | minus: 2 }}px;
      max-width: 100%;
    }

    .ai-blog-header__image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.image_height_mobile }}px;
      order: {% if block.settings.mobile_content_first %}2{% else %}1{% endif %};
      border-radius: {{ block.settings.border_radius_mobile }}px;
    }
  }
{% endstyle %}

<div class="ai-blog-header-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-blog-header__container-{{ ai_gen_id }}">
    
    <!-- Columna de Contenido -->
    <div class="ai-blog-header__content-{{ ai_gen_id }}">
      {% if block.settings.title != blank %}
        <h1 class="ai-blog-header__title-{{ ai_gen_id }}">{{ block.settings.title }}</h1>
      {% endif %}

      {% if block.settings.excerpt != blank %}
        <p class="ai-blog-header__excerpt-{{ ai_gen_id }}">{{ block.settings.excerpt }}</p>
      {% endif %}

      {% if block.settings.show_date and block.settings.date != blank %}
        <time class="ai-blog-header__date-{{ ai_gen_id }}" datetime="{{ block.settings.date }}">
          {{ block.settings.date }}
        </time>
      {% endif %}
    </div>

    <!-- Columna de Imagen -->
    <div class="ai-blog-header__image-wrapper-{{ ai_gen_id }}">
      {% if block.settings.image %}
        <img
          src="{{ block.settings.image | image_url: width: 2000 }}"
          alt="{{ block.settings.image.alt | default: block.settings.title | escape }}"
          loading="eager"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.height }}"
          class="ai-blog-header__image-{{ ai_gen_id }}"
        >
      {% else %}
        <div class="ai-blog-header__placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
        </div>
      {% endif %}
    </div>

  </div>
</div>

{% schema %}
{
  "name": "Blog Header Split",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "═══ CONTENIDO ═══"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Título",
      "default": "Refreshing Alternatives to Sugary Beverages"
    },
    {
      "type": "textarea",
      "id": "excerpt",
      "label": "Extracto / Descripción",
      "default": "Discover healthier, refreshing alternatives to sugary drinks with natural sweetness."
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Mostrar fecha",
      "default": true
    },
    {
      "type": "text",
      "id": "date",
      "label": "Fecha",
      "default": "November 8, 2024"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Imagen"
    },
    {
      "type": "header",
      "content": "═══ LAYOUT - DESKTOP ═══"
    },
    {
      "type": "range",
      "id": "left_width",
      "min": 25,
      "max": 60,
      "step": 1,
      "unit": "%",
      "label": "Ancho columna izquierda",
      "default": 40
    },
    {
      "type": "range",
      "id": "columns_gap",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Espacio entre columnas",
      "default": 24
    },
    {
      "type": "select",
      "id": "columns_vertical_align",
      "label": "Alineación vertical de columnas",
      "options": [
        { "value": "stretch", "label": "Estirar (igual altura)" },
        { "value": "start", "label": "Arriba" },
        { "value": "center", "label": "Centro" },
        { "value": "end", "label": "Abajo" }
      ],
      "default": "stretch"
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 12
    },
    {
      "type": "header",
      "content": "── Altura Contenido (Desktop)"
    },
    {
      "type": "range",
      "id": "content_height",
      "min": 150,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Altura mínima del contenido",
      "default": 300
    },
    {
      "type": "header",
      "content": "── Altura Imagen (Desktop)"
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 150,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Altura de la imagen",
      "default": 350
    },
    {
      "type": "header",
      "content": "═══ LAYOUT - TABLET ═══"
    },
    {
      "type": "range",
      "id": "left_width_tablet",
      "min": 30,
      "max": 60,
      "step": 1,
      "unit": "%",
      "label": "Ancho columna izquierda",
      "default": 45
    },
    {
      "type": "range",
      "id": "columns_gap_tablet",
      "min": 0,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Espacio entre columnas",
      "default": 20
    },
    {
      "type": "range",
      "id": "border_radius_tablet",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 10
    },
    {
      "type": "range",
      "id": "content_height_tablet",
      "min": 120,
      "max": 500,
      "step": 10,
      "unit": "px",
      "label": "Altura mínima del contenido",
      "default": 250
    },
    {
      "type": "range",
      "id": "image_height_tablet",
      "min": 120,
      "max": 500,
      "step": 10,
      "unit": "px",
      "label": "Altura de la imagen",
      "default": 300
    },
    {
      "type": "header",
      "content": "═══ LAYOUT - MOBILE ═══"
    },
    {
      "type": "range",
      "id": "columns_gap_mobile",
      "min": 0,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Espacio entre columnas",
      "default": 16
    },
    {
      "type": "range",
      "id": "border_radius_mobile",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "image_height_mobile",
      "min": 150,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Altura de imagen",
      "default": 250
    },
    {
      "type": "checkbox",
      "id": "mobile_content_first",
      "label": "Contenido primero en mobile",
      "default": true,
      "info": "Si está activo, el texto aparece arriba de la imagen"
    },
    {
      "type": "range",
      "id": "content_padding_mobile",
      "min": 16,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Padding del contenido",
      "default": 24
    },
    {
      "type": "header",
      "content": "═══ CONTENIDO - PADDING ═══"
    },
    {
      "type": "range",
      "id": "content_padding_vertical",
      "min": 16,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Padding vertical",
      "default": 40
    },
    {
      "type": "range",
      "id": "content_padding_horizontal",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Padding horizontal",
      "default": 36
    },
    {
      "type": "select",
      "id": "content_vertical_align",
      "label": "Alineación vertical del texto",
      "options": [
        { "value": "flex-start", "label": "Arriba" },
        { "value": "center", "label": "Centro" },
        { "value": "flex-end", "label": "Abajo" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "═══ ESTILO DEL TÍTULO ═══"
    },
    {
      "type": "select",
      "id": "title_font_family",
      "label": "Tipografía",
      "options": [
        { "value": "inherit", "label": "Heredar del tema" },
        { "value": "Georgia, 'Times New Roman', serif", "label": "Georgia (Serif)" },
        { "value": "'Playfair Display', serif", "label": "Playfair Display" },
        { "value": "'Merriweather', serif", "label": "Merriweather" },
        { "value": "'Cormorant Garamond', serif", "label": "Cormorant Garamond" },
        { "value": "'Montserrat', sans-serif", "label": "Montserrat" },
        { "value": "'Inter', sans-serif", "label": "Inter" },
        { "value": "'Helvetica Neue', Arial, sans-serif", "label": "Helvetica" }
      ],
      "default": "inherit"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Tamaño (desktop)",
      "default": 32
    },
    {
      "type": "range",
      "id": "title_size_tablet",
      "min": 18,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Tamaño (tablet)",
      "default": 28
    },
    {
      "type": "range",
      "id": "title_size_mobile",
      "min": 18,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Tamaño (mobile)",
      "default": 24
    },
    {
      "type": "select",
      "id": "title_font_weight",
      "label": "Peso de fuente",
      "options": [
        { "value": "300", "label": "Light (300)" },
        { "value": "400", "label": "Regular (400)" },
        { "value": "500", "label": "Medium (500)" },
        { "value": "600", "label": "Semibold (600)" },
        { "value": "700", "label": "Bold (700)" }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "title_line_height",
      "min": 0,
      "max": 2,
      "step": 0.1,
      "label": "Altura de línea",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "title_letter_spacing",
      "min": 0,
      "max": 2,
      "step": 0.1,
      "unit": "px",
      "label": "Espaciado de letras",
      "default": 0.4
    },
    {
      "type": "range",
      "id": "title_margin_bottom",
      "min": 0,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Margen inferior",
      "default": 16
    },
    {
      "type": "header",
      "content": "═══ ESTILO DEL EXTRACTO ═══"
    },
    {
      "type": "select",
      "id": "excerpt_font_family",
      "label": "Tipografía",
      "options": [
        { "value": "inherit", "label": "Heredar del tema" },
        { "value": "Georgia, 'Times New Roman', serif", "label": "Georgia (Serif)" },
        { "value": "'Inter', sans-serif", "label": "Inter" },
        { "value": "'Helvetica Neue', Arial, sans-serif", "label": "Helvetica" }
      ],
      "default": "inherit"
    },
    {
      "type": "range",
      "id": "excerpt_size",
      "min": 13,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Tamaño",
      "default": 15
    },
    {
      "type": "select",
      "id": "excerpt_font_weight",
      "label": "Peso de fuente",
      "options": [
        { "value": "300", "label": "Light (300)" },
        { "value": "400", "label": "Regular (400)" },
        { "value": "500", "label": "Medium (500)" }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "excerpt_max_width",
      "min": 30,
      "max": 80,
      "step": 5,
      "unit": "ch",
      "label": "Ancho máximo",
      "default": 50,
      "info": "En caracteres (ch)"
    },
    {
      "type": "header",
      "content": "═══ ESTILO DE LA FECHA ═══"
    },
    {
      "type": "select",
      "id": "date_position",
      "label": "Posición de la fecha",
      "options": [
        { "value": "top", "label": "Arriba del título" },
        { "value": "bottom", "label": "Debajo del extracto" }
      ],
      "default": "bottom"
    },
    {
      "type": "select",
      "id": "date_font_family",
      "label": "Tipografía",
      "options": [
        { "value": "inherit", "label": "Heredar del tema" },
        { "value": "Georgia, 'Times New Roman', serif", "label": "Georgia (Serif)" },
        { "value": "'Inter', sans-serif", "label": "Inter" },
        { "value": "'Helvetica Neue', Arial, sans-serif", "label": "Helvetica" }
      ],
      "default": "inherit"
    },
    {
      "type": "range",
      "id": "date_size",
      "min": 11,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Tamaño",
      "default": 13
    },
    {
      "type": "select",
      "id": "date_font_weight",
      "label": "Peso de fuente",
      "options": [
        { "value": "300", "label": "Light (300)" },
        { "value": "400", "label": "Regular (400)" },
        { "value": "500", "label": "Medium (500)" }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "date_spacing",
      "min": 8,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Espaciado desde contenido",
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "date_uppercase",
      "label": "Mayúsculas",
      "default": false
    },
    {
      "type": "header",
      "content": "═══ CONFIGURACIÓN DE IMAGEN ═══"
    },
    {
      "type": "select",
      "id": "image_fit",
      "label": "Ajuste de imagen",
      "options": [
        { "value": "cover", "label": "Cubrir (cover)" },
        { "value": "contain", "label": "Contener (contain)" }
      ],
      "default": "cover"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Posición de imagen",
      "options": [
        { "value": "center center", "label": "Centro" },
        { "value": "center top", "label": "Arriba" },
        { "value": "center bottom", "label": "Abajo" },
        { "value": "left center", "label": "Izquierda" },
        { "value": "right center", "label": "Derecha" }
      ],
      "default": "center center"
    },
    {
      "type": "header",
      "content": "═══ COLORES ═══"
    },
    {
      "type": "color",
      "id": "content_background",
      "label": "Fondo del contenido",
      "default": "#f5f3ef"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Color del título",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "excerpt_color",
      "label": "Color del extracto",
      "default": "#4a4a4a"
    },
    {
      "type": "color",
      "id": "date_color",
      "label": "Color de la fecha",
      "default": "#6b6b6b"
    },
    {
      "type": "color",
      "id": "image_background",
      "label": "Fondo de imagen (placeholder)",
      "default": "#e8e8e8"
    }
  ],
  "presets": [
    {
      "name": "Blog Header Split",
      "settings": {
        "title": "Refreshing Alternatives to Sugary Beverages",
        "excerpt": "Discover healthier, refreshing alternatives to sugary drinks with natural sweetness.",
        "date": "November 8, 2024",
        "left_width": 40,
        "columns_gap": 24,
        "border_radius": 12,
        "content_height": 300,
        "image_height": 350,
        "content_background": "#f5f3ef",
        "title_color": "#1a1a1a"
      }
    }
  ]
}
{% endschema %}
