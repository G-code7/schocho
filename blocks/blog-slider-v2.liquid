
{% style %}

  .pc-blog-slider-{{ ai_gen_id }} {
    --pc-bg: {{ section.settings.background_color }};
    --pc-content-bg: {{ section.settings.content_background_color }};
    --pc-title-color: {{ section.settings.title_color }};
    --pc-eyebrow-color: {{ section.settings.eyebrow_color }};
    --pc-text-color: {{ section.settings.description_color }};
    --pc-accent: {{ section.settings.accent_color }};
    --pc-btn-bg: {{ section.settings.button_background }};
    --pc-btn-text: {{ section.settings.button_text_color }};
    --pc-btn-hover-bg: {{ section.settings.button_hover_background }};
    --pc-border-color: {{ section.settings.border_color }};
    
    display: block;
    width: 100%;
    background-color: var(--pc-bg);
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  }

  .pc-blog-slider__container-{{ ai_gen_id }} {
    max-width: var(--page-width, 1200px);
    margin: 0 auto;
    padding: 0 {{ section.settings.horizontal_padding }}px;
    position: relative;
  }

  /* Section Header */
  .pc-blog-slider__header-{{ ai_gen_id }} {
    text-align: {{ section.settings.header_alignment }};
    margin-bottom: 40px;
  }

  .pc-blog-slider__section-eyebrow-{{ ai_gen_id }} {
    font-size: 12px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--pc-eyebrow-color);
    margin-bottom: 12px;
    font-weight: 500;
  }

  .pc-blog-slider__section-title-{{ ai_gen_id }} {
    font-size: {{ section.settings.section_title_size }}px;
    color: var(--pc-title-color);
    margin: 0;
    font-weight: 400;
    line-height: 1.2;
  }

  /* Slider Track */
  .pc-blog-slider__viewport-{{ ai_gen_id }} {
    overflow: hidden;
    position: relative;
  }

  .pc-blog-slider__track-{{ ai_gen_id }} {
    display: flex;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Slide Layout */
  .pc-blog-slider__slide-{{ ai_gen_id }} {
    min-width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: {{ section.settings.columns_gap }}px;
    align-items: stretch;
  }

  {% if section.settings.layout_direction == 'image_first' %}
  .pc-blog-slider__slide-{{ ai_gen_id }} {
    direction: rtl;
  }
  .pc-blog-slider__slide-{{ ai_gen_id }} > * {
    direction: ltr;
  }
  {% endif %}

  /* Content Column - Square/Flexible */
  .pc-blog-slider__content-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: var(--pc-content-bg);
    padding: {{ section.settings.content_padding }}px;
    border-radius: {{ section.settings.content_border_radius }}px;
    position: relative;
    {% if section.settings.content_aspect_ratio != 'auto' %}
    aspect-ratio: {{ section.settings.content_aspect_ratio }};
    {% endif %}
    {% if section.settings.show_content_border %}
    border: 1px solid var(--pc-border-color);
    {% endif %}
  }

  .pc-blog-slider__content-inner-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: {{ section.settings.content_alignment }};
    text-align: {{ section.settings.content_text_alignment }};
  }

  /* Eyebrow / Category */
  .pc-blog-slider__eyebrow-{{ ai_gen_id }} {
    font-size: {{ section.settings.eyebrow_size }}px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--pc-eyebrow-color);
    font-weight: 500;
    position: relative;
    display: inline-block;
  }

  {% if section.settings.eyebrow_style == 'underline' %}
  .pc-blog-slider__eyebrow-{{ ai_gen_id }}::after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 0;
    width: 30px;
    height: 2px;
    background-color: var(--pc-accent);
  }
  .pc-blog-slider__content-inner-{{ ai_gen_id }}[style*="center"] .pc-blog-slider__eyebrow-{{ ai_gen_id }}::after,
  .pc-blog-slider__eyebrow-{{ ai_gen_id }}:only-child::after {
    left: 50%;
    transform: translateX(-50%);
  }
  {% endif %}

  /* Title */
  .pc-blog-slider__title-{{ ai_gen_id }} {
    font-size: {{ section.settings.title_size }}px;
    color: var(--pc-title-color);
    margin: 0;
    line-height: 1.25;
    font-weight: {{ section.settings.title_weight }};
  }

  /* Description */
  .pc-blog-slider__description-{{ ai_gen_id }} {
    font-size: {{ section.settings.description_size }}px;
    color: var(--pc-text-color);
    line-height: 1.7;
    margin: 0;
  }

  /* Reading Time / Meta */
  .pc-blog-slider__meta-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--pc-text-color);
    opacity: 0.7;
  }

  .pc-blog-slider__meta-{{ ai_gen_id }} svg {
    width: 14px;
    height: 14px;
  }

  /* Button - Animated Arrow Style */
  .pc-blog-slider__button-wrapper-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-top: 8px;
  }

  .pc-blog-slider__button-{{ ai_gen_id }} {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: {{ section.settings.button_padding_y }}px {{ section.settings.button_padding_x }}px;
    background-color: var(--pc-btn-bg);
    color: var(--pc-btn-text);
    text-decoration: none;
    border-radius: {{ section.settings.button_border_radius }}px;
    font-size: {{ section.settings.button_text_size }}px;
    font-weight: 500;
    letter-spacing: 0.02em;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .pc-blog-slider__button-{{ ai_gen_id }}:hover {
    background-color: var(--pc-btn-hover-bg);
    transform: translateX(4px);
  }

  .pc-blog-slider__button-{{ ai_gen_id }} svg {
    width: 16px;
    height: 16px;
    transition: transform 0.3s ease;
  }

  .pc-blog-slider__button-{{ ai_gen_id }}:hover svg {
    transform: translateX(4px);
  }

  /* Animated Arrow Button (Alternative Style) */
  .pc-blog-slider__arrow-btn-{{ ai_gen_id }} {
    position: relative;
    width: 64px;
    height: 32px;
    overflow: hidden;
    flex-shrink: 0;
    cursor: pointer;
    text-decoration: none;
    display: block;
  }

  .pc-blog-slider__arrow-btn-svg-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .pc-blog-slider__arrow-btn-bg-{{ ai_gen_id }} {
    fill: none;
    stroke: var(--pc-border-color);
    stroke-width: 1;
  }

  .pc-blog-slider__arrow-btn-fill-{{ ai_gen_id }} {
    fill: none;
    stroke: var(--pc-accent);
    stroke-width: 1.5;
    stroke-dasharray: 118;
    stroke-dashoffset: 118;
    transition: stroke-dashoffset 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .pc-blog-slider__arrow-btn-{{ ai_gen_id }}:hover .pc-blog-slider__arrow-btn-fill-{{ ai_gen_id }} {
    stroke-dashoffset: 0;
  }

  .pc-blog-slider__arrow-icon-{{ ai_gen_id }} {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--pc-title-color);
  }

  .pc-blog-slider__arrow-btn-{{ ai_gen_id }}:hover .pc-blog-slider__arrow-icon-{{ ai_gen_id }} {
    transform: translate(-30%, -50%);
  }

  .pc-blog-slider__arrow-icon-second-{{ ai_gen_id }} {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-150%, -50%);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--pc-title-color);
    opacity: 0;
  }

  .pc-blog-slider__arrow-btn-{{ ai_gen_id }}:hover .pc-blog-slider__arrow-icon-second-{{ ai_gen_id }} {
    transform: translate(-50%, -50%);
    opacity: 1;
  }

  /* Image Column */
  .pc-blog-slider__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    overflow: hidden;
    border-radius: {{ section.settings.image_border_radius }}px;
    background-color: {{ section.settings.image_background_color }};
    {% if section.settings.image_aspect_ratio != 'auto' %}
    aspect-ratio: {{ section.settings.image_aspect_ratio }};
    {% else %}
    aspect-ratio: 1 / 1;
    {% endif %}
  }

  .pc-blog-slider__image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .pc-blog-slider__slide-{{ ai_gen_id }}:hover .pc-blog-slider__image-{{ ai_gen_id }} {
    transform: scale(1.03);
  }

  .pc-blog-slider__image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f5f3ef;
  }

  .pc-blog-slider__image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    max-width: 200px;
    opacity: 0.4;
  }

  /* Date Badge */
  .pc-blog-slider__date-badge-{{ ai_gen_id }} {
    position: absolute;
    top: 16px;
    left: 16px;
    background-color: rgba(255, 255, 255, 0.95);
    padding: 8px 14px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    color: var(--pc-title-color);
    letter-spacing: 0.02em;
    backdrop-filter: blur(4px);
    z-index: 2;
  }

  /* Navigation Controls */
  .pc-blog-slider__controls-{{ ai_gen_id }} {
    display: flex;
    justify-content: {{ section.settings.controls_alignment }};
    align-items: center;
    gap: 24px;
    margin-top: {{ section.settings.controls_margin_top }}px;
  }

  .pc-blog-slider__nav-{{ ai_gen_id }} {
    display: flex;
    gap: 12px;
  }

  .pc-blog-slider__arrow-{{ ai_gen_id }} {
    background-color: {{ section.settings.arrow_background }};
    color: {{ section.settings.arrow_color }};
    border: 1px solid {{ section.settings.arrow_border_color }};
    width: {{ section.settings.arrow_size }}px;
    height: {{ section.settings.arrow_size }}px;
    border-radius: {{ section.settings.arrow_border_radius }}px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .pc-blog-slider__arrow-{{ ai_gen_id }}:hover:not(:disabled) {
    background-color: {{ section.settings.arrow_hover_background }};
    border-color: {{ section.settings.arrow_hover_background }};
    color: {{ section.settings.arrow_hover_color }};
  }

  .pc-blog-slider__arrow-{{ ai_gen_id }}:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .pc-blog-slider__arrow-{{ ai_gen_id }} svg {
    width: 20px;
    height: 20px;
  }

  /* Dots / Indicators */
  .pc-blog-slider__dots-{{ ai_gen_id }} {
    display: flex;
    gap: {{ section.settings.dot_gap }}px;
    align-items: center;
  }

  .pc-blog-slider__dot-{{ ai_gen_id }} {
    width: {{ section.settings.dot_size }}px;
    height: {{ section.settings.dot_size }}px;
    border-radius: {{ section.settings.dot_border_radius }}px;
    background-color: {{ section.settings.dot_color }};
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0.4;
    padding: 0;
  }

  .pc-blog-slider__dot-{{ ai_gen_id }}.active {
    background-color: {{ section.settings.dot_active_color }};
    opacity: 1;
    {% if section.settings.dot_active_scale %}
    transform: scale(1.2);
    {% endif %}
  }

  .pc-blog-slider__dot-{{ ai_gen_id }}:hover:not(.active) {
    opacity: 0.7;
  }

  /* Progress Bar Style Indicator */
  {% if section.settings.indicator_style == 'progress' %}
  .pc-blog-slider__progress-{{ ai_gen_id }} {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .pc-blog-slider__progress-bar-{{ ai_gen_id }} {
    width: 60px;
    height: 3px;
    background-color: var(--pc-border-color);
    border-radius: 2px;
    overflow: hidden;
    cursor: pointer;
  }

  .pc-blog-slider__progress-bar-{{ ai_gen_id }}.active {
    background-color: var(--pc-accent);
  }
  {% endif %}

  /* Counter */
  .pc-blog-slider__counter-{{ ai_gen_id }} {
    font-size: 14px;
    color: var(--pc-text-color);
    font-weight: 500;
    letter-spacing: 0.05em;
  }

  .pc-blog-slider__counter-current-{{ ai_gen_id }} {
    color: var(--pc-title-color);
  }

  /* Empty State */
  .pc-blog-slider__empty-{{ ai_gen_id }} {
    text-align: center;
    padding: 80px 40px;
    color: var(--pc-text-color);
    font-size: 16px;
    background-color: var(--pc-content-bg);
    border-radius: 12px;
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     RESPONSIVE STYLES
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

  @media screen and (max-width: 990px) {
    .pc-blog-slider__slide-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 24px;
    }

    {% if section.settings.mobile_image_position == 'top' %}
    .pc-blog-slider__content-{{ ai_gen_id }} {
      order: 2;
    }
    .pc-blog-slider__image-wrapper-{{ ai_gen_id }} {
      order: 1;
    }
    {% endif %}

    .pc-blog-slider__content-{{ ai_gen_id }} {
      aspect-ratio: auto;
      padding: {{ section.settings.content_padding | times: 0.75 | round }}px;
    }

    .pc-blog-slider__image-wrapper-{{ ai_gen_id }} {
      aspect-ratio: {{ section.settings.mobile_image_aspect_ratio }};
    }

    .pc-blog-slider__title-{{ ai_gen_id }} {
      font-size: {{ section.settings.title_size | times: 0.75 | round }}px;
    }

    .pc-blog-slider__section-title-{{ ai_gen_id }} {
      font-size: {{ section.settings.section_title_size | times: 0.8 | round }}px;
    }
  }

  @media screen and (max-width: 749px) {
    .pc-blog-slider-{{ ai_gen_id }} {
      padding: {{ section.settings.padding_top | times: 0.6 | round }}px 0 {{ section.settings.padding_bottom | times: 0.6 | round }}px;
    }

    .pc-blog-slider__container-{{ ai_gen_id }} {
      padding: 0 20px;
    }

    .pc-blog-slider__header-{{ ai_gen_id }} {
      margin-bottom: 24px;
    }

    .pc-blog-slider__content-{{ ai_gen_id }} {
      padding: 28px;
    }

    .pc-blog-slider__title-{{ ai_gen_id }} {
      font-size: {{ section.settings.title_size | times: 0.65 | round }}px;
    }

    .pc-blog-slider__description-{{ ai_gen_id }} {
      font-size: {{ section.settings.description_size | times: 0.9 | round }}px;
    }

    .pc-blog-slider__controls-{{ ai_gen_id }} {
      justify-content: center;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .pc-blog-slider__track-{{ ai_gen_id }},
    .pc-blog-slider__image-{{ ai_gen_id }},
    .pc-blog-slider__button-{{ ai_gen_id }},
    .pc-blog-slider__arrow-btn-fill-{{ ai_gen_id }},
    .pc-blog-slider__arrow-icon-{{ ai_gen_id }},
    .pc-blog-slider__arrow-icon-second-{{ ai_gen_id }} {
      transition: none;
    }

    .pc-blog-slider__slide-{{ ai_gen_id }}:hover .pc-blog-slider__image-{{ ai_gen_id }} {
      transform: none;
    }
  }
{% endstyle %}

<section class="pc-blog-slider-{{ ai_gen_id }}" data-section-id="{{ section.id }}">
  <div class="pc-blog-slider__container-{{ ai_gen_id }}">
    
    {%- if section.settings.section_eyebrow != blank or section.settings.section_title != blank -%}
      <div class="pc-blog-slider__header-{{ ai_gen_id }}">
        {%- if section.settings.section_eyebrow != blank -%}
          <p class="pc-blog-slider__section-eyebrow-{{ ai_gen_id }}">{{ section.settings.section_eyebrow }}</p>
        {%- endif -%}
        {%- if section.settings.section_title != blank -%}
          <h2 class="pc-blog-slider__section-title-{{ ai_gen_id }}">{{ section.settings.section_title }}</h2>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if section.settings.blog != blank and section.settings.blog.articles_count > 0 -%}
      <div class="pc-blog-slider__viewport-{{ ai_gen_id }}">
        <div class="pc-blog-slider__track-{{ ai_gen_id }}" data-track>
          {%- for article in section.settings.blog.articles limit: section.settings.articles_limit -%}
            <div class="pc-blog-slider__slide-{{ ai_gen_id }}" data-slide="{{ forloop.index0 }}">
              
              {%- comment -%} Content Column {%- endcomment -%}
              <div class="pc-blog-slider__content-{{ ai_gen_id }}">
                <div class="pc-blog-slider__content-inner-{{ ai_gen_id }}" style="align-items: {{ section.settings.content_alignment }}; text-align: {{ section.settings.content_text_alignment }};">
                  
                  {%- if section.settings.show_eyebrow -%}
                    {%- if section.settings.eyebrow_source == 'blog_title' -%}
                      <span class="pc-blog-slider__eyebrow-{{ ai_gen_id }}">{{ section.settings.blog.title }}</span>
                    {%- elsif section.settings.eyebrow_source == 'custom' and section.settings.custom_eyebrow != blank -%}
                      <span class="pc-blog-slider__eyebrow-{{ ai_gen_id }}">{{ section.settings.custom_eyebrow }}</span>
                    {%- elsif article.tags.size > 0 -%}
                      <span class="pc-blog-slider__eyebrow-{{ ai_gen_id }}">{{ article.tags.first }}</span>
                    {%- endif -%}
                  {%- endif -%}

                  <h3 class="pc-blog-slider__title-{{ ai_gen_id }}">{{ article.title }}</h3>

                  {%- if section.settings.show_description -%}
                    <p class="pc-blog-slider__description-{{ ai_gen_id }}">
                      {%- if article.excerpt != blank -%}
                        {{ article.excerpt | strip_html | truncate: section.settings.description_length }}
                      {%- else -%}
                        {{ article.content | strip_html | truncate: section.settings.description_length }}
                      {%- endif -%}
                    </p>
                  {%- endif -%}

                  {%- if section.settings.show_read_time -%}
                    {%- assign words = article.content | strip_html | split: ' ' | size -%}
                    {%- assign read_time = words | divided_by: 200 | plus: 1 -%}
                    <div class="pc-blog-slider__meta-{{ ai_gen_id }}">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                      </svg>
                      <span>{{ read_time }} min read</span>
                    </div>
                  {%- endif -%}

                  {%- if section.settings.show_button -%}
                    <div class="pc-blog-slider__button-wrapper-{{ ai_gen_id }}">
                      {%- if section.settings.button_style == 'solid' -%}
                        <a href="{{ article.url }}" class="pc-blog-slider__button-{{ ai_gen_id }}">
                          {{ section.settings.button_text }}
                          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/>
                            <polyline points="12 5 19 12 12 19"/>
                          </svg>
                        </a>
                      {%- else -%}
                        <a href="{{ article.url }}" class="pc-blog-slider__arrow-btn-{{ ai_gen_id }}" aria-label="{{ section.settings.button_text }}">
                          <svg class="pc-blog-slider__arrow-btn-svg-{{ ai_gen_id }}" width="64" height="32" viewBox="0 0 64 32" fill="none">
                            <path class="pc-blog-slider__arrow-btn-bg-{{ ai_gen_id }}" d="M16 1h32a15 15 0 0 1 0 30H16a15 15 0 0 1 0-30z"/>
                            <path class="pc-blog-slider__arrow-btn-fill-{{ ai_gen_id }}" d="M16 1h32a15 15 0 0 1 0 30H16a15 15 0 0 1 0-30z"/>
                          </svg>
                          <svg class="pc-blog-slider__arrow-icon-{{ ai_gen_id }}" width="12" height="10" viewBox="0 0 12 10" fill="none">
                            <path d="M1 5L11 5M11 5L6.71429 1M11 5L6.71429 9" stroke="currentColor" stroke-width="1.2" stroke-linecap="square"/>
                          </svg>
                          <svg class="pc-blog-slider__arrow-icon-second-{{ ai_gen_id }}" width="12" height="10" viewBox="0 0 12 10" fill="none">
                            <path d="M1 5L11 5M11 5L6.71429 1M11 5L6.71429 9" stroke="currentColor" stroke-width="1.2" stroke-linecap="square"/>
                          </svg>
                        </a>
                        <span class="pc-blog-slider__meta-{{ ai_gen_id }}">{{ section.settings.button_text }}</span>
                      {%- endif -%}
                    </div>
                  {%- endif -%}

                </div>
              </div>

              {%- comment -%} Image Column {%- endcomment -%}
              <div class="pc-blog-slider__image-wrapper-{{ ai_gen_id }}">
                {%- if section.settings.show_date_badge -%}
                  <div class="pc-blog-slider__date-badge-{{ ai_gen_id }}">
                    {{ article.published_at | date: section.settings.date_format }}
                  </div>
                {%- endif -%}

                {%- if article.image -%}
                  <img
                    src="{{ article.image | image_url: width: 1200 }}"
                    srcset="{{ article.image | image_url: width: 400 }} 400w,
                            {{ article.image | image_url: width: 600 }} 600w,
                            {{ article.image | image_url: width: 800 }} 800w,
                            {{ article.image | image_url: width: 1000 }} 1000w,
                            {{ article.image | image_url: width: 1200 }} 1200w"
                    sizes="(max-width: 749px) 100vw, 50vw"
                    alt="{{ article.image.alt | escape | default: article.title | escape }}"
                    class="pc-blog-slider__image-{{ ai_gen_id }}"
                    loading="lazy"
                    width="{{ article.image.width }}"
                    height="{{ article.image.height }}"
                  >
                {%- else -%}
                  <div class="pc-blog-slider__image-placeholder-{{ ai_gen_id }}">
                    {{ 'image' | placeholder_svg_tag }}
                  </div>
                {%- endif -%}
              </div>

            </div>
          {%- endfor -%}
        </div>
      </div>

      {%- assign articles_count = section.settings.blog.articles_count -%}
      {%- if articles_count > section.settings.articles_limit -%}
        {%- assign total_slides = section.settings.articles_limit -%}
      {%- else -%}
        {%- assign total_slides = articles_count -%}
      {%- endif -%}

      {%- if total_slides > 1 and section.settings.show_controls -%}
        <div class="pc-blog-slider__controls-{{ ai_gen_id }}">
          
          {%- if section.settings.show_arrows -%}
            <div class="pc-blog-slider__nav-{{ ai_gen_id }}">
              <button class="pc-blog-slider__arrow-{{ ai_gen_id }}" data-prev aria-label="Art√≠culo anterior" {% if section.settings.disable_loop %}disabled{% endif %}>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="15 18 9 12 15 6"/>
                </svg>
              </button>
              <button class="pc-blog-slider__arrow-{{ ai_gen_id }}" data-next aria-label="Siguiente art√≠culo">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"/>
                </svg>
              </button>
            </div>
          {%- endif -%}

          {%- if section.settings.show_counter -%}
            <div class="pc-blog-slider__counter-{{ ai_gen_id }}">
              <span class="pc-blog-slider__counter-current-{{ ai_gen_id }}" data-current>01</span>
              <span>/</span>
              <span>{{ total_slides | prepend: '00' | slice: -2, 2 }}</span>
            </div>
          {%- endif -%}

          {%- if section.settings.show_dots -%}
            {%- if section.settings.indicator_style == 'dots' -%}
              <div class="pc-blog-slider__dots-{{ ai_gen_id }}">
                {%- for i in (1..total_slides) -%}
                  <button 
                    class="pc-blog-slider__dot-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}" 
                    data-dot="{{ forloop.index0 }}"
                    aria-label="Ir al art√≠culo {{ forloop.index }}"
                  ></button>
                {%- endfor -%}
              </div>
            {%- elsif section.settings.indicator_style == 'progress' -%}
              <div class="pc-blog-slider__progress-{{ ai_gen_id }}">
                {%- for i in (1..total_slides) -%}
                  <div 
                    class="pc-blog-slider__progress-bar-{{ ai_gen_id }} {% if forloop.first %}active{% endif %}" 
                    data-progress="{{ forloop.index0 }}"
                  ></div>
                {%- endfor -%}
              </div>
            {%- endif -%}
          {%- endif -%}

        </div>
      {%- endif -%}

    {%- else -%}
      <div class="pc-blog-slider__empty-{{ ai_gen_id }}">
        <p>{{ section.settings.empty_message }}</p>
      </div>
    {%- endif -%}

  </div>
</section>

<script>
  (function() {
    const section = document.querySelector('[data-section-id="{{ section.id }}"]');
    if (!section) return;

    const track = section.querySelector('[data-track]');
    const slides = section.querySelectorAll('[data-slide]');
    const prevBtn = section.querySelector('[data-prev]');
    const nextBtn = section.querySelector('[data-next]');
    const dots = section.querySelectorAll('[data-dot]');
    const progressBars = section.querySelectorAll('[data-progress]');
    const counter = section.querySelector('[data-current]');

    const totalSlides = slides.length;
    let currentSlide = 0;
    const loop = {{ section.settings.disable_loop | json }} !== true;
    const autoplay = {{ section.settings.autoplay | json }};
    const autoplayDelay = {{ section.settings.autoplay_delay }};
    let autoplayInterval = null;

    if (totalSlides <= 1) return;

    function updateSlider() {
      track.style.transform = `translateX(-${currentSlide * 100}%)`;

      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === currentSlide);
      });

      progressBars.forEach((bar, i) => {
        bar.classList.toggle('active', i === currentSlide);
      });

      if (counter) {
        counter.textContent = String(currentSlide + 1).padStart(2, '0');
      }

      if (prevBtn && !loop) {
        prevBtn.disabled = currentSlide === 0;
      }
      if (nextBtn && !loop) {
        nextBtn.disabled = currentSlide === totalSlides - 1;
      }
    }

    function goToSlide(index) {
      if (loop) {
        currentSlide = (index + totalSlides) % totalSlides;
      } else {
        currentSlide = Math.max(0, Math.min(index, totalSlides - 1));
      }
      updateSlider();
    }

    function nextSlide() {
      goToSlide(currentSlide + 1);
    }

    function prevSlide() {
      goToSlide(currentSlide - 1);
    }

    function startAutoplay() {
      if (autoplay && autoplayDelay > 0) {
        autoplayInterval = setInterval(nextSlide, autoplayDelay);
      }
    }

    function stopAutoplay() {
      if (autoplayInterval) {
        clearInterval(autoplayInterval);
        autoplayInterval = null;
      }
    }

    if (prevBtn) prevBtn.addEventListener('click', () => { stopAutoplay(); prevSlide(); });
    if (nextBtn) nextBtn.addEventListener('click', () => { stopAutoplay(); nextSlide(); });

    dots.forEach(dot => {
      dot.addEventListener('click', () => {
        stopAutoplay();
        goToSlide(parseInt(dot.dataset.dot, 10));
      });
    });

    progressBars.forEach(bar => {
      bar.addEventListener('click', () => {
        stopAutoplay();
        goToSlide(parseInt(bar.dataset.progress, 10));
      });
    });

    // Touch/Swipe support
    let touchStartX = 0;
    let touchEndX = 0;

    track.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
      stopAutoplay();
    }, { passive: true });

    track.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      const diff = touchStartX - touchEndX;
      if (Math.abs(diff) > 50) {
        if (diff > 0) nextSlide();
        else prevSlide();
      }
    }, { passive: true });

    // Keyboard navigation
    section.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { stopAutoplay(); prevSlide(); }
      if (e.key === 'ArrowRight') { stopAutoplay(); nextSlide(); }
    });

    // Pause autoplay on hover
    section.addEventListener('mouseenter', stopAutoplay);
    section.addEventListener('mouseleave', startAutoplay);

    updateSlider();
    startAutoplay();
  })();
</script>

{% schema %}
{
  "name": "Blog Slider - v2",
  "tag": "section",
  "class": "section-blog-slider-pc",
  "settings": [
    {
      "type": "header",
      "content": "üì∞ Blog Source"
    },
    {
      "type": "blog",
      "id": "blog",
      "label": "Blog"
    },
    {
      "type": "range",
      "id": "articles_limit",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Maximum articles",
      "default": 5
    },
    {
      "type": "header",
      "content": "üìù Section Header"
    },
    {
      "type": "text",
      "id": "section_eyebrow",
      "label": "Eyebrow text",
      "default": "FROM THE BLOG"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title",
      "default": "Insights & Stories"
    },
    {
      "type": "range",
      "id": "section_title_size",
      "min": 24,
      "max": 56,
      "step": 2,
      "unit": "px",
      "label": "Section title size",
      "default": 36
    },
    {
      "type": "select",
      "id": "header_alignment",
      "label": "Header alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "üé® Layout"
    },
    {
      "type": "select",
      "id": "layout_direction",
      "label": "Layout direction",
      "options": [
        { "value": "content_first", "label": "Content left, Image right" },
        { "value": "image_first", "label": "Image left, Content right" }
      ],
      "default": "content_first"
    },
    {
      "type": "range",
      "id": "columns_gap",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Gap between columns",
      "default": 40
    },
    {
      "type": "select",
      "id": "content_aspect_ratio",
      "label": "Content box aspect ratio",
      "options": [
        { "value": "auto", "label": "Auto (flexible)" },
        { "value": "1 / 1", "label": "Square (1:1)" },
        { "value": "4 / 3", "label": "Landscape (4:3)" },
        { "value": "3 / 4", "label": "Portrait (3:4)" }
      ],
      "default": "1 / 1"
    },
    {
      "type": "select",
      "id": "image_aspect_ratio",
      "label": "Image aspect ratio",
      "options": [
        { "value": "auto", "label": "Auto (match content)" },
        { "value": "1 / 1", "label": "Square (1:1)" },
        { "value": "4 / 3", "label": "Landscape (4:3)" },
        { "value": "16 / 9", "label": "Wide (16:9)" },
        { "value": "3 / 4", "label": "Portrait (3:4)" }
      ],
      "default": "1 / 1"
    },
    {
      "type": "select",
      "id": "mobile_image_position",
      "label": "Mobile: Image position",
      "options": [
        { "value": "top", "label": "Image on top" },
        { "value": "bottom", "label": "Image on bottom" }
      ],
      "default": "top"
    },
    {
      "type": "select",
      "id": "mobile_image_aspect_ratio",
      "label": "Mobile: Image aspect ratio",
      "options": [
        { "value": "1 / 1", "label": "Square (1:1)" },
        { "value": "4 / 3", "label": "Landscape (4:3)" },
        { "value": "16 / 9", "label": "Wide (16:9)" },
        { "value": "3 / 2", "label": "Photo (3:2)" }
      ],
      "default": "4 / 3"
    },
    {
      "type": "header",
      "content": "‚úèÔ∏è Content Settings"
    },
    {
      "type": "checkbox",
      "id": "show_eyebrow",
      "label": "Show eyebrow/category",
      "default": true
    },
    {
      "type": "select",
      "id": "eyebrow_source",
      "label": "Eyebrow source",
      "options": [
        { "value": "blog_title", "label": "Blog title" },
        { "value": "first_tag", "label": "First tag" },
        { "value": "custom", "label": "Custom text" }
      ],
      "default": "blog_title"
    },
    {
      "type": "text",
      "id": "custom_eyebrow",
      "label": "Custom eyebrow text"
    },
    {
      "type": "select",
      "id": "eyebrow_style",
      "label": "Eyebrow style",
      "options": [
        { "value": "plain", "label": "Plain text" },
        { "value": "underline", "label": "With underline accent" }
      ],
      "default": "underline"
    },
    {
      "type": "range",
      "id": "eyebrow_size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Eyebrow size",
      "default": 12
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show description",
      "default": true
    },
    {
      "type": "range",
      "id": "description_length",
      "min": 80,
      "max": 300,
      "step": 10,
      "label": "Description max characters",
      "default": 180
    },
    {
      "type": "checkbox",
      "id": "show_read_time",
      "label": "Show reading time",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_date_badge",
      "label": "Show date badge on image",
      "default": false
    },
    {
      "type": "text",
      "id": "date_format",
      "label": "Date format",
      "default": "%b %d, %Y",
      "info": "%b = month, %d = day, %Y = year"
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "Content alignment",
      "options": [
        { "value": "flex-start", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Right" }
      ],
      "default": "flex-start"
    },
    {
      "type": "select",
      "id": "content_text_alignment",
      "label": "Text alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "üî§ Typography"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 20,
      "max": 56,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 32
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Title weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Regular" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi-bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description size",
      "default": 16
    },
    {
      "type": "header",
      "content": "üé® Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Section background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "content_background_color",
      "label": "Content box background",
      "default": "#f5f3ef"
    },
    {
      "type": "checkbox",
      "id": "show_content_border",
      "label": "Show content box border",
      "default": false
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e5e1da"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#2c2416"
    },
    {
      "type": "color",
      "id": "eyebrow_color",
      "label": "Eyebrow color",
      "default": "#8b7355"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#5a4d3a"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#c4a574"
    },
    {
      "type": "color",
      "id": "image_background_color",
      "label": "Image placeholder background",
      "default": "#f5f3ef"
    },
    {
      "type": "header",
      "content": "üîò Button"
    },
    {
      "type": "checkbox",
      "id": "show_button",
      "label": "Show button",
      "default": true
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Read Article"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button style",
      "options": [
        { "value": "solid", "label": "Solid button" },
        { "value": "animated_arrow", "label": "Animated arrow (like reference)" }
      ],
      "default": "animated_arrow"
    },
    {
      "type": "range",
      "id": "button_text_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Button text size",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_padding_x",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Button horizontal padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "button_padding_y",
      "min": 10,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Button vertical padding",
      "default": 14
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 4
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button background",
      "default": "#2c2416"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Button hover background",
      "default": "#8b7355"
    },
    {
      "type": "header",
      "content": "üñºÔ∏è Image"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "content_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Content box border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 24,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Content box padding",
      "default": 48
    },
    {
      "type": "header",
      "content": "‚óÄÔ∏è Navigation"
    },
    {
      "type": "checkbox",
      "id": "show_controls",
      "label": "Show navigation controls",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show arrows",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show indicators",
      "default": true
    },
    {
      "type": "select",
      "id": "indicator_style",
      "label": "Indicator style",
      "options": [
        { "value": "dots", "label": "Dots" },
        { "value": "progress", "label": "Progress bars" }
      ],
      "default": "dots"
    },
    {
      "type": "checkbox",
      "id": "show_counter",
      "label": "Show slide counter",
      "default": false
    },
    {
      "type": "select",
      "id": "controls_alignment",
      "label": "Controls alignment",
      "options": [
        { "value": "flex-start", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Right" },
        { "value": "space-between", "label": "Space between" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "controls_margin_top",
      "min": 16,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Controls top margin",
      "default": 32
    },
    {
      "type": "header",
      "content": "Arrow Style"
    },
    {
      "type": "range",
      "id": "arrow_size",
      "min": 36,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Arrow button size",
      "default": 48
    },
    {
      "type": "range",
      "id": "arrow_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Arrow border radius",
      "default": 24
    },
    {
      "type": "color",
      "id": "arrow_background",
      "label": "Arrow background",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "arrow_border_color",
      "label": "Arrow border color",
      "default": "#e5e1da"
    },
    {
      "type": "color",
      "id": "arrow_color",
      "label": "Arrow icon color",
      "default": "#2c2416"
    },
    {
      "type": "color",
      "id": "arrow_hover_background",
      "label": "Arrow hover background",
      "default": "#2c2416"
    },
    {
      "type": "color",
      "id": "arrow_hover_color",
      "label": "Arrow hover icon color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Dot Style"
    },
    {
      "type": "range",
      "id": "dot_size",
      "min": 8,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Dot size",
      "default": 10
    },
    {
      "type": "range",
      "id": "dot_gap",
      "min": 6,
      "max": 16,
      "step": 2,
      "unit": "px",
      "label": "Gap between dots",
      "default": 10
    },
    {
      "type": "range",
      "id": "dot_border_radius",
      "min": 0,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Dot border radius",
      "default": 5
    },
    {
      "type": "color",
      "id": "dot_color",
      "label": "Dot color",
      "default": "#d4cfc6"
    },
    {
      "type": "color",
      "id": "dot_active_color",
      "label": "Active dot color",
      "default": "#2c2416"
    },
    {
      "type": "checkbox",
      "id": "dot_active_scale",
      "label": "Scale active dot",
      "default": false
    },
    {
      "type": "header",
      "content": "‚öôÔ∏è Behavior"
    },
    {
      "type": "checkbox",
      "id": "disable_loop",
      "label": "Disable infinite loop",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Enable autoplay",
      "default": false
    },
    {
      "type": "range",
      "id": "autoplay_delay",
      "min": 0,
      "max": 2000,
      "step": 50,
      "unit": "ms",
      "label": "Autoplay delay",
      "default": 350
    },
    {
      "type": "header",
      "content": "üìê Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "min": 16,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 24
    },
    {
      "type": "header",
      "content": "üìù Empty State"
    },
    {
      "type": "text",
      "id": "empty_message",
      "label": "Empty state message",
      "default": "Select a blog to display articles"
    }
  ],
  "presets": [
    {
      "name": "Blog Slider - v2",
      "settings": {
        "section_eyebrow": "FROM THE BLOG",
        "section_title": "Insights & Stories"
      }
    }
  ]
}
{% endschema %}
